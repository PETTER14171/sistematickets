{"version":3,"sources":["app.js","modernizr.js"],"names":["verificarNuevaNotificacionResumen","contenedor","document","getElementById","fetch","then","res","json","data","ok","unread","Number","topPriority","top_priority","latest","innerHTML","etiqueta","prio","p","toLowerCase","prioridadLabel","icono","prioridadIcon","renderNotiResumen","id","lastIdKey","lastSeen","localStorage","getItem","setItem","String","window","Notification","permission","title","body","mensaje","n","ticket_id","onclick","focus","location","href","catch","err","console","error","cerrarModalFalla","modal","style","display","overflow","_onEsc","removeEventListener","log","btn","supports","setBtnState","enabled","classList","add","setAttribute","remove","disabled","addEventListener","async","requestPermission","Swal","fire","icon","text","timer","showConfirmButton","confirmButtonText","e","html","setInterval","abrirModalNotificaciones","cerrarModal","marcarNotificacionesLeidas","abrirModalFalla","target","once","onEsc","key","frame","querySelector","zoomLabel","btnZoomIn","btnReset","btnSearch","zoom","applyZoom","transform","transformOrigin","textContent","Math","round","min","toFixed","ev","isCtrl","ctrlKey","metaKey","preventDefault","max","alert","querySelectorAll","forEach","card","link","dataset","term","prompt","trim","q","encodeURIComponent","btnBell","notifWrapper","scrollIntoView","behavior","block","setTimeout","notifList","length","navToggle","mainNav","isOpen","toggle","innerWidth","contains","messagesContainer","form","textarea","fileInput","setLastId","lastId","buildAjaxUrl","params","url","URL","searchParams","set","k","v","Object","entries","toString","fd","FormData","method","headers","r","insertAdjacentHTML","last_id","value","scrollTop","scrollHeight","parseInt","action","this","getAttribute","showCancelButton","cancelButtonText","reverseButtons","confirmButtonColor","cancelButtonColor","result","isConfirmed","hasMessage","files","o","a","u","className","A","Modernizr","_config","classPrefix","c","baseVal","enableJSClass","RegExp","replace","enableClasses","join","i","f","split","t","Boolean","_trigger","s","l","_version","usePrefixes","_q","on","addTest","push","name","fn","options","addAsyncTest","prototype","documentElement","nodeName","hasOwnProperty","call","constructor","_l","type","width","Image","onerror","onload","src","uri","shift","aliases"],"mappings":"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","file":"bundle.js","sourcesContent":["(() => {\r\n  'use strict';\r\n\r\n  // Cambia este marcador en cada despliegue para confirmar carga\r\n  console.log('APP BUILD: 2025-12-12');\r\n\r\n  /* =========================\r\n   *  Permiso notificacion\r\n   * ========================= */\r\n\r\n  (function () {\r\n  const btn = document.getElementById('btnEnableNotifications');\r\n  if (!btn) return;\r\n\r\n  const supports = ('Notification' in window);\r\n\r\n  function setBtnState(enabled) {\r\n    // enabled = true cuando ya hay permiso \"granted\"\r\n    if (enabled) {\r\n      btn.classList.add('is-enabled');\r\n      btn.setAttribute('aria-label', 'Notificaciones activadas');\r\n      btn.title = 'Notificaciones activadas';\r\n    } else {\r\n      btn.classList.remove('is-enabled');\r\n      btn.setAttribute('aria-label', 'Activar notificaciones del navegador');\r\n      btn.title = 'Activar notificaciones del navegador';\r\n    }\r\n  }\r\n\r\n  // Estado inicial\r\n  if (!supports) {\r\n    btn.disabled = true;\r\n    btn.title = 'Tu navegador no soporta notificaciones';\r\n    return;\r\n  }\r\n  setBtnState(Notification.permission === 'granted');\r\n\r\n  btn.addEventListener('click', async () => {\r\n    if (!supports) return;\r\n\r\n    // Si ya est√° permitido\r\n    if (Notification.permission === 'granted') {\r\n      Swal.fire({\r\n        icon: 'info',\r\n        title: 'Ya est√°n activadas',\r\n        text: 'Las notificaciones del navegador ya est√°n permitidas.',\r\n        confirmButtonText: 'OK'\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Si el usuario ya bloque√≥\r\n    if (Notification.permission === 'denied') {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Notificaciones bloqueadas',\r\n        html: `\r\n          Tu navegador tiene las notificaciones <b>bloqueadas</b>.<br><br>\r\n          Para habilitarlas: abre el candado üîí en la barra de direcciones ‚Üí Notificaciones ‚Üí Permitir.\r\n        `,\r\n        confirmButtonText: 'Entendido'\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Preguntar permiso (prompt)\r\n    try {\r\n      const permission = await Notification.requestPermission();\r\n\r\n      if (permission === 'granted') {\r\n        setBtnState(true);\r\n\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: '¬°Listo!',\r\n          text: 'Notificaciones activadas. Te avisar√© cuando haya nuevos eventos.',\r\n          timer: 1800,\r\n          showConfirmButton: false\r\n        });\r\n\r\n        // Notificaci√≥n de prueba opcional\r\n        new Notification('TalkHub', {\r\n          body: 'Notificaciones activadas correctamente ‚úÖ',\r\n        });\r\n\r\n      } else if (permission === 'denied') {\r\n        setBtnState(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Permiso rechazado',\r\n          text: 'No podr√© mostrar notificaciones del navegador a menos que las habilites.',\r\n          confirmButtonText: 'OK'\r\n        });\r\n      } else {\r\n        // \"default\" (cerr√≥ el prompt)\r\n        setBtnState(false);\r\n        Swal.fire({\r\n          icon: 'warning',\r\n          title: 'Sin cambios',\r\n          text: 'No se otorg√≥ el permiso. Puedes intentarlo de nuevo cuando quieras.',\r\n          confirmButtonText: 'OK'\r\n        });\r\n      }\r\n    } catch (e) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Error al solicitar permiso',\r\n        text: 'Ocurri√≥ un problema al solicitar notificaciones.',\r\n        confirmButtonText: 'OK'\r\n      });\r\n    }\r\n  });\r\n})();\r\n\r\n\r\n/* =========================\r\n *  Notificaciones (Resumen + Browser Notification)\r\n * ========================= */\r\nfunction prioridadLabel(prio) {\r\n  const p = (prio || '').toLowerCase();\r\n  if (p === 'alta') return 'Alta';\r\n  if (p === 'media') return 'Media';\r\n  if (p === 'baja') return 'Baja';\r\n  return 'Info';\r\n}\r\n\r\nfunction prioridadIcon(prio) {\r\n  const p = (prio || '').toLowerCase();\r\n  if (p === 'alta') return '‚ö†Ô∏è';\r\n  if (p === 'media') return 'üîî';\r\n  if (p === 'baja') return '‚ÑπÔ∏è';\r\n  return 'üîî';\r\n}\r\n\r\n// Render del bloque √∫nico\r\nfunction renderNotiResumen(unread, topPriority) {\r\n  const etiqueta = prioridadLabel(topPriority);\r\n  const icono = prioridadIcon(topPriority);\r\n\r\n  if (!unread || unread <= 0) {\r\n    return `<p class=\"admin-card__empty\">Sin notificaciones pendientes.</p>`;\r\n  }\r\n\r\n  return `\r\n    <div class=\"admin-noti-summary__box admin-noti-summary__box--${(topPriority || 'media').toLowerCase()}\">\r\n      <div class=\"admin-noti-summary__icon\">${icono}</div>\r\n      <div class=\"admin-noti-summary__content\">\r\n        <div class=\"admin-noti-summary__title\">Tienes notificaciones pendientes</div>\r\n        <div class=\"admin-noti-summary__meta\">\r\n          <span class=\"admin-noti-summary__count\">${unread}</span>\r\n          <span class=\"admin-noti-summary__sep\">‚Ä¢</span>\r\n          <span class=\"admin-noti-summary__prio\">Con Prioridad: ${etiqueta}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction verificarNuevaNotificacionResumen() {\r\n  // Puedes usar #alertaDinamica o el nuevo #notiResumen (recomendado)\r\n  const contenedor = document.getElementById('notiResumen') || document.getElementById('alertaDinamica');\r\n  if (!contenedor) return;\r\n\r\n  fetch('notificaciones_alerta.php')\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      if (!data || !data.ok) return;\r\n\r\n      const unread = Number(data.unread || 0);\r\n      const topPriority = data.top_priority || null;\r\n      const latest = data.latest || null;\r\n\r\n      // 1) Pintar bloque √∫nico\r\n      contenedor.innerHTML = renderNotiResumen(unread, topPriority);\r\n\r\n      // 2) Notificaci√≥n del navegador SOLO si lleg√≥ una nueva (por id)\r\n      if (!latest || !latest.id) return;\r\n\r\n      const lastIdKey = 'lastNotiId_seen';\r\n      const lastSeen = Number(localStorage.getItem(lastIdKey) || 0);\r\n\r\n      // Si hay una nueva con id mayor\r\n      if (latest.id > lastSeen) {\r\n        // Guardamos el √∫ltimo id visto para evitar spam\r\n        localStorage.setItem(lastIdKey, String(latest.id));\r\n\r\n        // Disparar Notification si est√° permitido\r\n        if ('Notification' in window && Notification.permission === 'granted') {\r\n          const title = `TalkHub: ${unread} pendiente(s)`;\r\n          const body = latest.mensaje ? latest.mensaje : 'Tienes una nueva notificaci√≥n.';\r\n\r\n          const n = new Notification(title, { body });\r\n\r\n          // Si hay ticket_id, al hacer click te mando al ticket\r\n          if (latest.ticket_id) {\r\n            n.onclick = () => {\r\n              window.focus();\r\n              window.location.href = `responder_ticket.php?id=${latest.ticket_id}`;\r\n            };\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch(err => console.error('Error al consultar notificaciones:', err));\r\n}\r\n\r\n  // Polling (recomendado 2s para no saturar)\r\n  setInterval(verificarNuevaNotificacionResumen, 2000);\r\n  verificarNuevaNotificacionResumen();\r\n\r\n\r\n  /* =========================\r\n   *  Modal de fallas comunes\r\n   * ========================= */\r\n  function abrirModalFalla(id) {\r\n    const modal = document.getElementById('modal-falla-' + id);\r\n    if (!modal) return;\r\n\r\n    // Mostrar modal\r\n    modal.style.display = 'flex';\r\n\r\n    // Bloquear scroll del body detr√°s del modal\r\n    document.body.style.overflow = 'hidden';\r\n\r\n    // Cerrar al hacer click fuera del contenido\r\n    modal.addEventListener('click', function backdrop(e) {\r\n      if (e.target === modal) cerrarModalFalla(id);\r\n    }, { once: true });\r\n\r\n    // Cerrar con ESC\r\n    const onEsc = (e) => { if (e.key === 'Escape') cerrarModalFalla(id); };\r\n    modal._onEsc = onEsc; // guardamos ref para remover luego\r\n    document.addEventListener('keydown', onEsc);\r\n  }\r\n\r\n  function cerrarModalFalla(id) {\r\n    const modal = document.getElementById('modal-falla-' + id);\r\n    if (!modal) return;\r\n\r\n    modal.style.display = 'none';\r\n    document.body.style.overflow = ''; // restaurar scroll body\r\n\r\n    // Remover listener de ESC si existe\r\n    if (modal._onEsc) {\r\n      document.removeEventListener('keydown', modal._onEsc);\r\n      delete modal._onEsc;\r\n    }\r\n  }\r\n\r\n  // Exponer funciones llamadas desde HTML (onclick/atributos)\r\n  window.abrirModalNotificaciones   = abrirModalNotificaciones;\r\n  window.cerrarModal                = cerrarModal;\r\n  window.marcarNotificacionesLeidas = marcarNotificacionesLeidas;\r\n  window.abrirModalFalla            = abrirModalFalla;\r\n  window.cerrarModalFalla           = cerrarModalFalla;\r\n\r\n\r\n})();\r\n\r\n  /* ============================\r\n   *  Interfaz de visualizar pdf\r\n   * ============================*/\r\n\r\n  \r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const frame      = document.querySelector('.js-pdf-frame');\r\n  const zoomLabel  = document.querySelector('.js-pdf-zoom-label');\r\n  const btnZoomIn  = document.querySelector('.js-pdf-zoom-in');\r\n  const btnReset   = document.querySelector('.js-pdf-zoom-reset');\r\n  const btnSearch  = document.querySelector('.js-pdf-search-tip');\r\n\r\n  if (!frame || !zoomLabel || !btnZoomIn || !btnReset) {\r\n    return; // si algo no existe, no hacemos nada\r\n  }\r\n\r\n  // --- Estado de zoom ---\r\n  let zoom = 1;        // 100% inicial\r\n  const MIN_ZOOM = 0.6;\r\n  const MAX_ZOOM = 2.0;\r\n  const STEP     = 0.1;\r\n\r\n  function applyZoom() {\r\n    // Escalamos el iframe visualmente\r\n    frame.style.transform = `scale(${zoom})`;\r\n    frame.style.transformOrigin = 'top center';\r\n\r\n    // Actualizamos el texto del indicador\r\n    zoomLabel.textContent = `${Math.round(zoom * 100)}%`;\r\n  }\r\n\r\n  // Aplicamos el zoom inicial\r\n  applyZoom();\r\n\r\n  // --- Eventos de los botones ---\r\n  btnZoomIn.addEventListener('click', () => {\r\n    zoom = Math.min(MAX_ZOOM, +(zoom + STEP).toFixed(2));\r\n    applyZoom();\r\n  });\r\n\r\n  // El cuadrado resetea a 100%\r\n  btnReset.addEventListener('click', () => {\r\n    zoom = 1.0;\r\n    applyZoom();\r\n  });\r\n\r\n  // --- Atajos de teclado: Ctrl + / Ctrl - / Ctrl 0 ---\r\n  document.addEventListener('keydown', (ev) => {\r\n    const isCtrl = ev.ctrlKey || ev.metaKey; // Cmd en Mac\r\n\r\n    // Ctrl + / =  Zoom in\r\n    if (isCtrl && (ev.key === '+' || ev.key === '=')) {\r\n      ev.preventDefault();\r\n      zoom = Math.min(MAX_ZOOM, +(zoom + STEP).toFixed(2));\r\n      applyZoom();\r\n    }\r\n\r\n    // Ctrl - = Zoom out\r\n    if (isCtrl && ev.key === '-') {\r\n      ev.preventDefault();\r\n      zoom = Math.max(MIN_ZOOM, +(zoom - STEP).toFixed(2));\r\n      applyZoom();\r\n    }\r\n\r\n    // Ctrl 0 = reset\r\n    if (isCtrl && ev.key === '0') {\r\n      ev.preventDefault();\r\n      zoom = 1.0;\r\n      applyZoom();\r\n    }\r\n  });\r\n\r\n  // --- Bot√≥n de ‚Äúbuscar‚Äù (tip para el usuario) ---\r\n  if (btnSearch) {\r\n    btnSearch.addEventListener('click', () => {\r\n      alert('Tip: usa Ctrl + F (Cmd + F en Mac) para buscar dentro del documento.');\r\n    });\r\n  }\r\n});\r\n\r\n\r\n  /* ============================\r\n   *  Funciones del panel admin\r\n   * ============================*/\r\n\r\n  // public/js/panel-tecnico.js\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  // 1) Tarjetas clickeables (stats / middle)\r\n  const clickableCards = document.querySelectorAll('.js-card-link');\r\n\r\n  clickableCards.forEach(card => {\r\n    const link = card.dataset.link;\r\n    if (!link) return;\r\n\r\n    card.classList.add('admin-card--clickable');\r\n\r\n    card.addEventListener('click', () => {\r\n      window.location.href = link;\r\n    });\r\n  });\r\n\r\n  // 2) Bot√≥n de b√∫squeda del header\r\n  const btnSearch = document.querySelector('.js-admin-search');\r\n  if (btnSearch) {\r\n    btnSearch.addEventListener('click', () => {\r\n      const term = window.prompt('Buscar tickets por t√≠tulo o descripci√≥n:');\r\n      if (term && term.trim() !== '') {\r\n        const q = encodeURIComponent(term.trim());\r\n        window.location.href = `admin_tickets.php?q=${q}`;\r\n      }\r\n    });\r\n  }\r\n\r\n  // 3) Bot√≥n de campana del header -> scroll a notificaciones + highlight\r\n  const btnBell = document.querySelector('.js-admin-bell');\r\n  const notifWrapper = document.querySelector('.js-notifications-wrapper');\r\n\r\n  if (btnBell && notifWrapper) {\r\n    btnBell.addEventListener('click', () => {\r\n      notifWrapper.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n      notifWrapper.classList.add('admin-card--highlight');\r\n\r\n      setTimeout(() => {\r\n        notifWrapper.classList.remove('admin-card--highlight');\r\n      }, 1800);\r\n    });\r\n  }\r\n\r\n  // 4) Scroll en notificaciones cuando haya m√°s de 5\r\n  const notifList = document.querySelector('.js-notifications-list');\r\n  if (notifList) {\r\n    const items = notifList.querySelectorAll('.admin-notifications__item');\r\n\r\n    if (items.length > 5) {\r\n      notifList.classList.add('has-scroll');\r\n    }\r\n  }\r\n});\r\n\r\n\r\n  /* ============================\r\n   *  Navegacion Responsiva\r\n   * ============================*/\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const navToggle = document.getElementById('navToggle');\r\n  const mainNav   = document.getElementById('mainNav');\r\n\r\n  if (!navToggle || !mainNav) return;\r\n\r\n  // Abrir/cerrar men√∫\r\n  navToggle.addEventListener('click', () => {\r\n    const isOpen = mainNav.classList.toggle('open');\r\n    navToggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');\r\n  });\r\n\r\n  // Cerrar men√∫ al hacer clic en un enlace (en m√≥vil)\r\n  mainNav.querySelectorAll('a').forEach(link => {\r\n    link.addEventListener('click', () => {\r\n      if (window.innerWidth <= 900 && mainNav.classList.contains('open')) {\r\n        mainNav.classList.remove('open');\r\n        navToggle.setAttribute('aria-expanded', 'false');\r\n      }\r\n    });\r\n  });\r\n\r\n  // Cerrar men√∫ si se cambia a escritorio\r\n  window.addEventListener('resize', () => {\r\n    if (window.innerWidth > 900 && mainNav.classList.contains('open')) {\r\n      mainNav.classList.remove('open');\r\n      navToggle.setAttribute('aria-expanded', 'false');\r\n    }\r\n  });\r\n\r\n  // Opcional: cerrar con Esc\r\n  document.addEventListener('keydown', (e) => {\r\n    if (e.key === 'Escape' && mainNav.classList.contains('open')) {\r\n      mainNav.classList.remove('open');\r\n      navToggle.setAttribute('aria-expanded', 'false');\r\n    }\r\n  });\r\n});\r\n\r\n\r\n  /* ============================\r\n   *  Ajax para mensajes\r\n   * ============================*/\r\n\r\n  document.addEventListener('DOMContentLoaded', function () {\r\n    const messagesContainer = document.getElementById('ticketMessages');\r\n    const form = document.querySelector('.ticket-thread__form');\r\n    if (!messagesContainer || !form) return;\r\n\r\n    const textarea = form.querySelector('#mensaje');\r\n    const fileInput = form.querySelector('#archivo_adjunto');\r\n\r\n    function getLastId() {\r\n        return parseInt(messagesContainer.dataset.lastId || '0', 10);\r\n    }\r\n\r\n    function setLastId(id) {\r\n        messagesContainer.dataset.lastId = String(id);\r\n    }\r\n\r\n    function buildAjaxUrl(params = {}) {\r\n        const url = new URL(window.location.href);\r\n        url.searchParams.set('ajax', '1');\r\n        for (const [k, v] of Object.entries(params)) {\r\n            url.searchParams.set(k, v);\r\n        }\r\n        return url.toString();\r\n    }\r\n\r\n    // Enviar mensaje por AJAX\r\n    form.addEventListener('submit', function (e) {\r\n        e.preventDefault();\r\n\r\n        const fd = new FormData(form);\r\n        // aseguramos accion=mensaje_nuevo por si acaso\r\n        fd.set('accion', 'mensaje_nuevo');\r\n\r\n        fetch(buildAjaxUrl(), {\r\n            method: 'POST',\r\n            body: fd,\r\n            headers: {\r\n                'X-Requested-With': 'XMLHttpRequest'\r\n            }\r\n        })\r\n        .then(r => r.json())\r\n        .then(data => {\r\n            if (!data || !data.ok) {\r\n                alert(data && data.error ? data.error : 'Error al enviar el mensaje.');\r\n                return;\r\n            }\r\n\r\n            if (data.html) {\r\n                messagesContainer.insertAdjacentHTML('beforeend', data.html);\r\n            }\r\n            if (data.last_id) {\r\n                setLastId(data.last_id);\r\n            }\r\n\r\n            if (textarea) textarea.value = '';\r\n            if (fileInput) fileInput.value = '';\r\n\r\n            // hacer scroll hacia abajo\r\n            messagesContainer.scrollTop = messagesContainer.scrollHeight;\r\n        })\r\n        .catch(err => {\r\n            console.error(err);\r\n            alert('Error de conexi√≥n al enviar el mensaje.');\r\n        });\r\n    });\r\n\r\n    // Polling para nuevos mensajes del otro lado\r\n    function pollNewMessages() {\r\n        const lastId = getLastId();\r\n        fetch(buildAjaxUrl({action: 'list', last_id: String(lastId)}), {\r\n            headers: {\r\n                'X-Requested-With': 'XMLHttpRequest'\r\n            }\r\n        })\r\n        .then(r => r.json())\r\n        .then(data => {\r\n            if (!data || !data.ok) return;\r\n            if (data.html) {\r\n                messagesContainer.insertAdjacentHTML('beforeend', data.html);\r\n            }\r\n            if (data.last_id && data.last_id > lastId) {\r\n                setLastId(data.last_id);\r\n                messagesContainer.scrollTop = messagesContainer.scrollHeight;\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.error('Error al consultar nuevos mensajes', err);\r\n        });\r\n    }\r\n\r\n    // Lanzar polling cada 10 segundos (ajusta si quieres)\r\n    setInterval(pollNewMessages, 1000);\r\n});\r\n\r\n\r\n/* ============================\r\n*  Alerta eliminar Usuario\r\n* ============================*/\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  document.querySelectorAll('.js-eliminar-usuario').forEach(btn => {\r\n    btn.addEventListener('click', function (e) {\r\n      e.preventDefault();\r\n\r\n      const url = this.getAttribute('href');\r\n\r\n      Swal.fire({\r\n        title: '¬øEliminar usuario?',\r\n        text: 'El usuario ser√° desactivado y ya no aparecer√° en la lista.',\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'S√≠, eliminar',\r\n        cancelButtonText: 'Cancelar',\r\n        reverseButtons: true,\r\n        confirmButtonColor: '#dc2626', // rojo elegante\r\n        cancelButtonColor: '#6b7280'   // gris\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          window.location.href = url;\r\n        }\r\n      });\r\n    });\r\n  });\r\n});\r\n\r\n\r\n\r\n/* ============================\r\n*  Ajax para mensajes\r\n* ============================*/\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    const form      = document.querySelector('.ticket-thread__form');\r\n    if (!form) return;\r\n\r\n    const textarea  = document.getElementById('mensaje');\r\n    const fileInput = document.getElementById('archivo_adjunto');\r\n\r\n    if (!textarea || !fileInput) return;\r\n\r\n    // 1) ALERTA si el usuario intenta adjuntar archivo sin mensaje\r\n    fileInput.addEventListener('change', function () {\r\n        const hasMessage = textarea.value.trim().length > 0;\r\n\r\n        if (fileInput.files.length > 0 && !hasMessage) {\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Mensaje requerido',\r\n                text: 'Para adjuntar evidencia, primero escribe un mensaje.',\r\n                confirmButtonColor: '#3085d6',\r\n            });\r\n\r\n            // Limpiar archivo seleccionado\r\n            fileInput.value = '';\r\n            textarea.focus();\r\n        }\r\n    });\r\n\r\n    // 2) Validaci√≥n completa al enviar\r\n    form.addEventListener('submit', function (e) {\r\n        const hasMessage = textarea.value.trim().length > 0;\r\n\r\n        if (!hasMessage) {\r\n            e.preventDefault();\r\n            Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Mensaje vac√≠o',\r\n                text: 'El mensaje no puede estar vac√≠o.',\r\n                confirmButtonColor: '#3085d6',\r\n            });\r\n            textarea.focus();\r\n        }\r\n    });\r\n});\r\n\r\n","!function(e,n,A){function o(e,n){return typeof e===n}function t(){var e,n,A,t,a,i,l;for(var f in r)if(r.hasOwnProperty(f)){if(e=[],n=r[f],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(A=0;A<n.options.aliases.length;A++)e.push(n.options.aliases[A].toLowerCase());for(t=o(n.fn,\"function\")?n.fn():n.fn,a=0;a<e.length;a++)i=e[a],l=i.split(\".\"),1===l.length?Modernizr[l[0]]=t:(!Modernizr[l[0]]||Modernizr[l[0]]instanceof Boolean||(Modernizr[l[0]]=new Boolean(Modernizr[l[0]])),Modernizr[l[0]][l[1]]=t),s.push((t?\"\":\"no-\")+l.join(\"-\"))}}function a(e){var n=u.className,A=Modernizr._config.classPrefix||\"\";if(c&&(n=n.baseVal),Modernizr._config.enableJSClass){var o=new RegExp(\"(^|\\\\s)\"+A+\"no-js(\\\\s|$)\");n=n.replace(o,\"$1\"+A+\"js$2\")}Modernizr._config.enableClasses&&(n+=\" \"+A+e.join(\" \"+A),c?u.className.baseVal=n:u.className=n)}function i(e,n){if(\"object\"==typeof e)for(var A in e)f(e,A)&&i(A,e[A]);else{e=e.toLowerCase();var o=e.split(\".\"),t=Modernizr[o[0]];if(2==o.length&&(t=t[o[1]]),\"undefined\"!=typeof t)return Modernizr;n=\"function\"==typeof n?n():n,1==o.length?Modernizr[o[0]]=n:(!Modernizr[o[0]]||Modernizr[o[0]]instanceof Boolean||(Modernizr[o[0]]=new Boolean(Modernizr[o[0]])),Modernizr[o[0]][o[1]]=n),a([(n&&0!=n?\"\":\"no-\")+o.join(\"-\")]),Modernizr._trigger(e,n)}return Modernizr}var s=[],r=[],l={_version:\"3.6.0\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var A=this;setTimeout(function(){n(A[e])},0)},addTest:function(e,n,A){r.push({name:e,fn:n,options:A})},addAsyncTest:function(e){r.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=l,Modernizr=new Modernizr;var f,u=n.documentElement,c=\"svg\"===u.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;f=o(e,\"undefined\")||o(e.call,\"undefined\")?function(e,n){return n in e&&o(e.constructor.prototype[n],\"undefined\")}:function(n,A){return e.call(n,A)}}(),l._l={},l.on=function(e,n){this._l[e]||(this._l[e]=[]),this._l[e].push(n),Modernizr.hasOwnProperty(e)&&setTimeout(function(){Modernizr._trigger(e,Modernizr[e])},0)},l._trigger=function(e,n){if(this._l[e]){var A=this._l[e];setTimeout(function(){var e,o;for(e=0;e<A.length;e++)(o=A[e])(n)},0),delete this._l[e]}},Modernizr._q.push(function(){l.addTest=i}),Modernizr.addAsyncTest(function(){function e(e,n,A){function o(n){var o=n&&\"load\"===n.type?1==t.width:!1,a=\"webp\"===e;i(e,a&&o?new Boolean(o):o),A&&A(n)}var t=new Image;t.onerror=o,t.onload=o,t.src=n}var n=[{uri:\"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=\",name:\"webp\"},{uri:\"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\",name:\"webp.alpha\"},{uri:\"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA\",name:\"webp.animation\"},{uri:\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=\",name:\"webp.lossless\"}],A=n.shift();e(A.name,A.uri,function(A){if(A&&\"load\"===A.type)for(var o=0;o<n.length;o++)e(n[o].name,n[o].uri)})}),t(),a(s),delete l.addTest,delete l.addAsyncTest;for(var p=0;p<Modernizr._q.length;p++)Modernizr._q[p]();e.Modernizr=Modernizr}(window,document);"]}