{"version":3,"sources":["app.js","modernizr.js"],"names":["swalFire","options","fallbackText","window","Swal","fire","alert","Promise","resolve","isConfirmed","verificarNuevaNotificacionResumen","contenedor","document","getElementById","fetch","then","res","json","data","ok","unread","Number","topPriority","top_priority","latest","innerHTML","etiqueta","prio","p","toLowerCase","prioridadLabel","icono","prioridadIcon","renderNotiResumen","id","lastIdKey","lastSeen","localStorage","getItem","setItem","String","Notification","permission","title","body","mensaje","n","ticket_id","onclick","focus","location","href","e","catch","err","console","error","cerrarModalFalla","modal","style","display","overflow","_onEsc","removeEventListener","log","btn","supports","setBtnState","enabled","classList","add","setAttribute","remove","disabled","addEventListener","async","requestPermission","icon","text","timer","showConfirmButton","confirmButtonText","html","setInterval","abrirModalFalla","target","once","onEsc","key","frame","querySelector","zoomLabel","btnZoomIn","btnReset","btnSearch","zoom","applyZoom","transform","transformOrigin","textContent","Math","round","min","toFixed","ev","isCtrl","ctrlKey","metaKey","preventDefault","max","querySelectorAll","forEach","card","link","dataset","term","prompt","trim","q","encodeURIComponent","notifList","length","navToggle","mainNav","isOpen","toggle","innerWidth","contains","messagesContainer","form","textarea","fileInput","setLastId","lastId","buildAjaxUrl","params","url","URL","searchParams","set","k","v","Object","entries","toString","hasMessage","value","files","fd","FormData","method","headers","r","insertAdjacentHTML","last_id","scrollTop","scrollHeight","parseInt","action","this","getAttribute","showCancelButton","cancelButtonText","reverseButtons","confirmButtonColor","cancelButtonColor","result","o","a","u","className","A","Modernizr","_config","classPrefix","c","baseVal","enableJSClass","RegExp","replace","enableClasses","join","i","f","split","t","Boolean","_trigger","s","l","_version","usePrefixes","_q","on","setTimeout","addTest","push","name","fn","addAsyncTest","prototype","documentElement","nodeName","hasOwnProperty","call","constructor","_l","type","width","Image","onerror","onload","src","uri","shift","aliases"],"mappings":"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","file":"bundle.js","sourcesContent":["(() => {\r\n  'use strict';\r\n\r\n  // Cambia este marcador en cada despliegue para confirmar carga\r\n  console.log('APP BUILD: 2025-12-12 (fixed)');\r\n\r\n  /* =========================\r\n   *  Helpers (SweetAlert seguro)\r\n   * ========================= */\r\n  function swalFire(options, fallbackText = '') {\r\n    if (window.Swal && typeof window.Swal.fire === 'function') {\r\n      return window.Swal.fire(options);\r\n    }\r\n    if (fallbackText) alert(fallbackText);\r\n    return Promise.resolve({ isConfirmed: false });\r\n  }\r\n\r\n  /* =========================\r\n   *  Permiso notificaci√≥n (Bot√≥n üîî)\r\n   * ========================= */\r\n  (function initNotificationPermissionButton() {\r\n    const btn = document.getElementById('btnEnableNotifications');\r\n    if (!btn) return;\r\n\r\n    const supports = ('Notification' in window);\r\n\r\n    function setBtnState(enabled) {\r\n      if (enabled) {\r\n        btn.classList.add('is-enabled');\r\n        btn.setAttribute('aria-label', 'Notificaciones activadas');\r\n        btn.title = 'Notificaciones activadas';\r\n      } else {\r\n        btn.classList.remove('is-enabled');\r\n        btn.setAttribute('aria-label', 'Activar notificaciones del navegador');\r\n        btn.title = 'Activar notificaciones del navegador';\r\n      }\r\n    }\r\n\r\n    if (!supports) {\r\n      btn.disabled = true;\r\n      btn.title = 'Tu navegador no soporta notificaciones';\r\n      return;\r\n    }\r\n\r\n    setBtnState(Notification.permission === 'granted');\r\n\r\n    btn.addEventListener('click', async () => {\r\n      if (!supports) return;\r\n\r\n      // Ya est√° permitido\r\n      if (Notification.permission === 'granted') {\r\n        swalFire(\r\n          {\r\n            icon: 'info',\r\n            title: 'Ya est√°n activadas',\r\n            text: 'Las notificaciones del navegador ya est√°n permitidas.',\r\n            confirmButtonText: 'OK'\r\n          },\r\n          'Las notificaciones ya est√°n activadas.'\r\n        );\r\n        return;\r\n      }\r\n\r\n      // El usuario bloque√≥\r\n      if (Notification.permission === 'denied') {\r\n        swalFire(\r\n          {\r\n            icon: 'error',\r\n            title: 'Notificaciones bloqueadas',\r\n            html: `\r\n              Tu navegador tiene las notificaciones <b>bloqueadas</b>.<br><br>\r\n              Para habilitarlas: abre el candado üîí en la barra de direcciones ‚Üí Notificaciones ‚Üí Permitir.\r\n            `,\r\n            confirmButtonText: 'Entendido'\r\n          },\r\n          'Notificaciones bloqueadas. Act√≠valas desde la configuraci√≥n del sitio.'\r\n        );\r\n        return;\r\n      }\r\n\r\n      // Solicitar permiso\r\n      try {\r\n        const permission = await Notification.requestPermission();\r\n\r\n        if (permission === 'granted') {\r\n          setBtnState(true);\r\n\r\n          swalFire(\r\n            {\r\n              icon: 'success',\r\n              title: '¬°Listo!',\r\n              text: 'Notificaciones activadas. Te avisar√© cuando haya nuevos eventos.',\r\n              timer: 1800,\r\n              showConfirmButton: false\r\n            },\r\n            'Notificaciones activadas.'\r\n          );\r\n\r\n          // Notificaci√≥n de prueba (opcional)\r\n          try {\r\n            new Notification('TalkHub', {\r\n              body: 'Notificaciones activadas correctamente ‚úÖ'\r\n            });\r\n          } catch (e) {\r\n            // Algunos navegadores requieren interacci√≥n/condiciones espec√≠ficas\r\n          }\r\n\r\n        } else if (permission === 'denied') {\r\n          setBtnState(false);\r\n          swalFire(\r\n            {\r\n              icon: 'error',\r\n              title: 'Permiso rechazado',\r\n              text: 'No podr√© mostrar notificaciones del navegador a menos que las habilites.',\r\n              confirmButtonText: 'OK'\r\n            },\r\n            'Permiso rechazado.'\r\n          );\r\n        } else {\r\n          // \"default\" (cerr√≥ el prompt)\r\n          setBtnState(false);\r\n          swalFire(\r\n            {\r\n              icon: 'warning',\r\n              title: 'Sin cambios',\r\n              text: 'No se otorg√≥ el permiso. Puedes intentarlo de nuevo cuando quieras.',\r\n              confirmButtonText: 'OK'\r\n            },\r\n            'No se otorg√≥ el permiso.'\r\n          );\r\n        }\r\n      } catch (e) {\r\n        swalFire(\r\n          {\r\n            icon: 'error',\r\n            title: 'Error al solicitar permiso',\r\n            text: 'Ocurri√≥ un problema al solicitar notificaciones.',\r\n            confirmButtonText: 'OK'\r\n          },\r\n          'Error al solicitar permiso de notificaciones.'\r\n        );\r\n      }\r\n    });\r\n  })();\r\n\r\n  /* =========================\r\n   *  Notificaciones (Resumen + Browser Notification)\r\n   * ========================= */\r\n  function prioridadLabel(prio) {\r\n    const p = (prio || '').toLowerCase();\r\n    if (p === 'alta') return 'Alta';\r\n    if (p === 'media') return 'Media';\r\n    if (p === 'baja') return 'Baja';\r\n    return 'Info';\r\n  }\r\n\r\n  function prioridadIcon(prio) {\r\n    const p = (prio || '').toLowerCase();\r\n    if (p === 'alta') return '‚ö†Ô∏è';\r\n    if (p === 'media') return 'üîî';\r\n    if (p === 'baja') return '‚ÑπÔ∏è';\r\n    return 'üîî';\r\n  }\r\n\r\n  function renderNotiResumen(unread, topPriority) {\r\n    const etiqueta = prioridadLabel(topPriority);\r\n    const icono = prioridadIcon(topPriority);\r\n\r\n    if (!unread || unread <= 0) {\r\n      return `<p class=\"admin-card__empty\">Sin notificaciones pendientes.</p>`;\r\n    }\r\n\r\n    return `\r\n      <div class=\"admin-noti-summary__box admin-noti-summary__box--${(topPriority || 'media').toLowerCase()}\">\r\n        <div class=\"admin-noti-summary__icon\">${icono}</div>\r\n        <div class=\"admin-noti-summary__content\">\r\n          <div class=\"admin-noti-summary__title\">Tienes notificaciones pendientes</div>\r\n          <div class=\"admin-noti-summary__meta\">\r\n            <span class=\"admin-noti-summary__count\">${unread}</span>\r\n            <span class=\"admin-noti-summary__sep\">‚Ä¢</span>\r\n            <span class=\"admin-noti-summary__prio\">Con Prioridad: ${etiqueta}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  function verificarNuevaNotificacionResumen() {\r\n    const contenedor = document.getElementById('notiResumen') || document.getElementById('alertaDinamica');\r\n    if (!contenedor) return;\r\n\r\n    fetch('notificaciones_alerta.php')\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (!data || !data.ok) return;\r\n\r\n        const unread = Number(data.unread || 0);\r\n        const topPriority = data.top_priority || null;\r\n        const latest = data.latest || null;\r\n\r\n        // 1) Pintar bloque √∫nico\r\n        contenedor.innerHTML = renderNotiResumen(unread, topPriority);\r\n\r\n        // 2) Browser Notification SOLO si lleg√≥ una nueva (por id)\r\n        if (!latest || !latest.id) return;\r\n\r\n        const lastIdKey = 'lastNotiId_seen';\r\n        const lastSeen = Number(localStorage.getItem(lastIdKey) || 0);\r\n\r\n        if (latest.id > lastSeen) {\r\n          localStorage.setItem(lastIdKey, String(latest.id));\r\n\r\n          if ('Notification' in window && Notification.permission === 'granted') {\r\n            const title = `TalkHub: ${unread} pendiente(s)`;\r\n            const body = latest.mensaje ? latest.mensaje : 'Tienes una nueva notificaci√≥n.';\r\n\r\n            try {\r\n              const n = new Notification(title, { body });\r\n\r\n              if (latest.ticket_id) {\r\n                n.onclick = () => {\r\n                  window.focus();\r\n                  window.location.href = `responder_ticket.php?id=${latest.ticket_id}`;\r\n                };\r\n              }\r\n            } catch (e) {\r\n              // silencio\r\n            }\r\n          }\r\n        }\r\n      })\r\n      .catch(err => console.error('Error al consultar notificaciones:', err));\r\n  }\r\n\r\n  // Polling (recomendado 2s)\r\n  setInterval(verificarNuevaNotificacionResumen, 2000);\r\n  verificarNuevaNotificacionResumen();\r\n\r\n  /* =========================\r\n   *  Modal de fallas comunes\r\n   * ========================= */\r\n  function abrirModalFalla(id) {\r\n    const modal = document.getElementById('modal-falla-' + id);\r\n    if (!modal) return;\r\n\r\n    modal.style.display = 'flex';\r\n    document.body.style.overflow = 'hidden';\r\n\r\n    modal.addEventListener(\r\n      'click',\r\n      function backdrop(e) {\r\n        if (e.target === modal) cerrarModalFalla(id);\r\n      },\r\n      { once: true }\r\n    );\r\n\r\n    const onEsc = (e) => { if (e.key === 'Escape') cerrarModalFalla(id); };\r\n    modal._onEsc = onEsc;\r\n    document.addEventListener('keydown', onEsc);\r\n  }\r\n\r\n  function cerrarModalFalla(id) {\r\n    const modal = document.getElementById('modal-falla-' + id);\r\n    if (!modal) return;\r\n\r\n    modal.style.display = 'none';\r\n    document.body.style.overflow = '';\r\n\r\n    if (modal._onEsc) {\r\n      document.removeEventListener('keydown', modal._onEsc);\r\n      delete modal._onEsc;\r\n    }\r\n  }\r\n\r\n  // Exponer SOLO lo que s√≠ existe\r\n  window.abrirModalFalla = abrirModalFalla;\r\n  window.cerrarModalFalla = cerrarModalFalla;\r\n\r\n  /* ============================\r\n   *  Interfaz de visualizar PDF\r\n   * ============================ */\r\n  document.addEventListener('DOMContentLoaded', () => {\r\n    const frame      = document.querySelector('.js-pdf-frame');\r\n    const zoomLabel  = document.querySelector('.js-pdf-zoom-label');\r\n    const btnZoomIn  = document.querySelector('.js-pdf-zoom-in');\r\n    const btnReset   = document.querySelector('.js-pdf-zoom-reset');\r\n    const btnSearch  = document.querySelector('.js-pdf-search-tip');\r\n\r\n    if (!frame || !zoomLabel || !btnZoomIn || !btnReset) return;\r\n\r\n    let zoom = 1;\r\n    const MIN_ZOOM = 0.6;\r\n    const MAX_ZOOM = 2.0;\r\n    const STEP     = 0.1;\r\n\r\n    function applyZoom() {\r\n      frame.style.transform = `scale(${zoom})`;\r\n      frame.style.transformOrigin = 'top center';\r\n      zoomLabel.textContent = `${Math.round(zoom * 100)}%`;\r\n    }\r\n\r\n    applyZoom();\r\n\r\n    btnZoomIn.addEventListener('click', () => {\r\n      zoom = Math.min(MAX_ZOOM, +(zoom + STEP).toFixed(2));\r\n      applyZoom();\r\n    });\r\n\r\n    btnReset.addEventListener('click', () => {\r\n      zoom = 1.0;\r\n      applyZoom();\r\n    });\r\n\r\n    document.addEventListener('keydown', (ev) => {\r\n      const isCtrl = ev.ctrlKey || ev.metaKey;\r\n\r\n      if (isCtrl && (ev.key === '+' || ev.key === '=')) {\r\n        ev.preventDefault();\r\n        zoom = Math.min(MAX_ZOOM, +(zoom + STEP).toFixed(2));\r\n        applyZoom();\r\n      }\r\n\r\n      if (isCtrl && ev.key === '-') {\r\n        ev.preventDefault();\r\n        zoom = Math.max(MIN_ZOOM, +(zoom - STEP).toFixed(2));\r\n        applyZoom();\r\n      }\r\n\r\n      if (isCtrl && ev.key === '0') {\r\n        ev.preventDefault();\r\n        zoom = 1.0;\r\n        applyZoom();\r\n      }\r\n    });\r\n\r\n    if (btnSearch) {\r\n      btnSearch.addEventListener('click', () => {\r\n        alert('Tip: usa Ctrl + F (Cmd + F en Mac) para buscar dentro del documento.');\r\n      });\r\n    }\r\n  });\r\n\r\n  /* ============================\r\n   *  Funciones del panel admin\r\n   * ============================ */\r\n  document.addEventListener('DOMContentLoaded', () => {\r\n    // 1) Tarjetas clickeables (stats / middle)\r\n    document.querySelectorAll('.js-card-link').forEach(card => {\r\n      const link = card.dataset.link;\r\n      if (!link) return;\r\n      card.classList.add('admin-card--clickable');\r\n      card.addEventListener('click', () => { window.location.href = link; });\r\n    });\r\n\r\n    // 2) Bot√≥n de b√∫squeda del header\r\n    const btnSearch = document.querySelector('.js-admin-search');\r\n    if (btnSearch) {\r\n      btnSearch.addEventListener('click', () => {\r\n        const term = window.prompt('Buscar tickets por t√≠tulo o descripci√≥n:');\r\n        if (term && term.trim() !== '') {\r\n          const q = encodeURIComponent(term.trim());\r\n          window.location.href = `admin_tickets.php?q=${q}`;\r\n        }\r\n      });\r\n    }\r\n\r\n    // 3) Scroll en listado (si a√∫n existe listado viejo)\r\n    const notifList = document.querySelector('.js-notifications-list');\r\n    if (notifList) {\r\n      const items = notifList.querySelectorAll('.admin-notifications__item');\r\n      if (items.length > 5) notifList.classList.add('has-scroll');\r\n    }\r\n\r\n    // IMPORTANTE:\r\n    // Ya NO hacemos scroll/highlight al dar clic en la campana, porque ahora la campana es para permisos.\r\n  });\r\n\r\n  /* ============================\r\n   *  Navegaci√≥n Responsiva\r\n   * ============================ */\r\n  document.addEventListener('DOMContentLoaded', () => {\r\n    const navToggle = document.getElementById('navToggle');\r\n    const mainNav   = document.getElementById('mainNav');\r\n    if (!navToggle || !mainNav) return;\r\n\r\n    navToggle.addEventListener('click', () => {\r\n      const isOpen = mainNav.classList.toggle('open');\r\n      navToggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');\r\n    });\r\n\r\n    mainNav.querySelectorAll('a').forEach(link => {\r\n      link.addEventListener('click', () => {\r\n        if (window.innerWidth <= 900 && mainNav.classList.contains('open')) {\r\n          mainNav.classList.remove('open');\r\n          navToggle.setAttribute('aria-expanded', 'false');\r\n        }\r\n      });\r\n    });\r\n\r\n    window.addEventListener('resize', () => {\r\n      if (window.innerWidth > 900 && mainNav.classList.contains('open')) {\r\n        mainNav.classList.remove('open');\r\n        navToggle.setAttribute('aria-expanded', 'false');\r\n      }\r\n    });\r\n\r\n    document.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Escape' && mainNav.classList.contains('open')) {\r\n        mainNav.classList.remove('open');\r\n        navToggle.setAttribute('aria-expanded', 'false');\r\n      }\r\n    });\r\n  });\r\n\r\n  /* ============================\r\n   *  Ajax para mensajes (ENVIAR + POLLING) + VALIDACIONES (UNIFICADO)\r\n   * ============================ */\r\n  document.addEventListener('DOMContentLoaded', function () {\r\n    const messagesContainer = document.getElementById('ticketMessages');\r\n    const form = document.querySelector('.ticket-thread__form');\r\n    if (!messagesContainer || !form) return;\r\n\r\n    const textarea = form.querySelector('#mensaje');\r\n    const fileInput = form.querySelector('#archivo_adjunto');\r\n\r\n    function getLastId() {\r\n      return parseInt(messagesContainer.dataset.lastId || '0', 10);\r\n    }\r\n\r\n    function setLastId(id) {\r\n      messagesContainer.dataset.lastId = String(id);\r\n    }\r\n\r\n    function buildAjaxUrl(params = {}) {\r\n      const url = new URL(window.location.href);\r\n      url.searchParams.set('ajax', '1');\r\n      for (const [k, v] of Object.entries(params)) {\r\n        url.searchParams.set(k, v);\r\n      }\r\n      return url.toString();\r\n    }\r\n\r\n    // VALIDACI√ìN: adjunto sin mensaje\r\n    if (fileInput && textarea) {\r\n      fileInput.addEventListener('change', function () {\r\n        const hasMessage = textarea.value.trim().length > 0;\r\n\r\n        if (fileInput.files.length > 0 && !hasMessage) {\r\n          swalFire(\r\n            {\r\n              icon: 'warning',\r\n              title: 'Mensaje requerido',\r\n              text: 'Para adjuntar evidencia, primero escribe un mensaje.'\r\n            },\r\n            'Para adjuntar evidencia, primero escribe un mensaje.'\r\n          );\r\n\r\n          fileInput.value = '';\r\n          textarea.focus();\r\n        }\r\n      });\r\n    }\r\n\r\n    // Enviar mensaje por AJAX\r\n    form.addEventListener('submit', function (e) {\r\n      e.preventDefault();\r\n\r\n      const hasMessage = textarea ? textarea.value.trim().length > 0 : false;\r\n      if (!hasMessage) {\r\n        swalFire(\r\n          {\r\n            icon: 'warning',\r\n            title: 'Mensaje vac√≠o',\r\n            text: 'El mensaje no puede estar vac√≠o.'\r\n          },\r\n          'El mensaje no puede estar vac√≠o.'\r\n        );\r\n        if (textarea) textarea.focus();\r\n        return;\r\n      }\r\n\r\n      const fd = new FormData(form);\r\n      fd.set('accion', 'mensaje_nuevo');\r\n\r\n      fetch(buildAjaxUrl(), {\r\n        method: 'POST',\r\n        body: fd,\r\n        headers: { 'X-Requested-With': 'XMLHttpRequest' }\r\n      })\r\n        .then(r => r.json())\r\n        .then(data => {\r\n          if (!data || !data.ok) {\r\n            swalFire(\r\n              {\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: (data && data.error) ? data.error : 'Error al enviar el mensaje.'\r\n              },\r\n              (data && data.error) ? data.error : 'Error al enviar el mensaje.'\r\n            );\r\n            return;\r\n          }\r\n\r\n          if (data.html) {\r\n            messagesContainer.insertAdjacentHTML('beforeend', data.html);\r\n          }\r\n          if (data.last_id) {\r\n            setLastId(data.last_id);\r\n          }\r\n\r\n          if (textarea) textarea.value = '';\r\n          if (fileInput) fileInput.value = '';\r\n\r\n          messagesContainer.scrollTop = messagesContainer.scrollHeight;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n          swalFire(\r\n            {\r\n              icon: 'error',\r\n              title: 'Error de conexi√≥n',\r\n              text: 'Error de conexi√≥n al enviar el mensaje.'\r\n            },\r\n            'Error de conexi√≥n al enviar el mensaje.'\r\n          );\r\n        });\r\n    });\r\n\r\n    // Polling para nuevos mensajes\r\n    function pollNewMessages() {\r\n      const lastId = getLastId();\r\n\r\n      fetch(buildAjaxUrl({ action: 'list', last_id: String(lastId) }), {\r\n        headers: { 'X-Requested-With': 'XMLHttpRequest' }\r\n      })\r\n        .then(r => r.json())\r\n        .then(data => {\r\n          if (!data || !data.ok) return;\r\n\r\n          if (data.html) {\r\n            messagesContainer.insertAdjacentHTML('beforeend', data.html);\r\n          }\r\n          if (data.last_id && data.last_id > lastId) {\r\n            setLastId(data.last_id);\r\n            messagesContainer.scrollTop = messagesContainer.scrollHeight;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.error('Error al consultar nuevos mensajes', err);\r\n        });\r\n    }\r\n\r\n    setInterval(pollNewMessages, 3000);\r\n  });\r\n\r\n  /* ============================\r\n   *  Alerta eliminar Usuario (SweetAlert)\r\n   * ============================ */\r\n  document.addEventListener('DOMContentLoaded', () => {\r\n    document.querySelectorAll('.js-eliminar-usuario').forEach(btn => {\r\n      btn.addEventListener('click', function (e) {\r\n        e.preventDefault();\r\n\r\n        const url = this.getAttribute('href');\r\n\r\n        swalFire(\r\n          {\r\n            title: '¬øEliminar usuario?',\r\n            text: 'El usuario ser√° desactivado y ya no aparecer√° en la lista.',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'S√≠, eliminar',\r\n            cancelButtonText: 'Cancelar',\r\n            reverseButtons: true,\r\n            confirmButtonColor: '#dc2626',\r\n            cancelButtonColor: '#6b7280'\r\n          },\r\n          '¬øEliminar usuario?'\r\n        ).then((result) => {\r\n          if (result && result.isConfirmed) {\r\n            window.location.href = url;\r\n          }\r\n        });\r\n      });\r\n    });\r\n  });\r\n\r\n})();\r\n","!function(e,n,A){function o(e,n){return typeof e===n}function t(){var e,n,A,t,a,i,l;for(var f in r)if(r.hasOwnProperty(f)){if(e=[],n=r[f],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(A=0;A<n.options.aliases.length;A++)e.push(n.options.aliases[A].toLowerCase());for(t=o(n.fn,\"function\")?n.fn():n.fn,a=0;a<e.length;a++)i=e[a],l=i.split(\".\"),1===l.length?Modernizr[l[0]]=t:(!Modernizr[l[0]]||Modernizr[l[0]]instanceof Boolean||(Modernizr[l[0]]=new Boolean(Modernizr[l[0]])),Modernizr[l[0]][l[1]]=t),s.push((t?\"\":\"no-\")+l.join(\"-\"))}}function a(e){var n=u.className,A=Modernizr._config.classPrefix||\"\";if(c&&(n=n.baseVal),Modernizr._config.enableJSClass){var o=new RegExp(\"(^|\\\\s)\"+A+\"no-js(\\\\s|$)\");n=n.replace(o,\"$1\"+A+\"js$2\")}Modernizr._config.enableClasses&&(n+=\" \"+A+e.join(\" \"+A),c?u.className.baseVal=n:u.className=n)}function i(e,n){if(\"object\"==typeof e)for(var A in e)f(e,A)&&i(A,e[A]);else{e=e.toLowerCase();var o=e.split(\".\"),t=Modernizr[o[0]];if(2==o.length&&(t=t[o[1]]),\"undefined\"!=typeof t)return Modernizr;n=\"function\"==typeof n?n():n,1==o.length?Modernizr[o[0]]=n:(!Modernizr[o[0]]||Modernizr[o[0]]instanceof Boolean||(Modernizr[o[0]]=new Boolean(Modernizr[o[0]])),Modernizr[o[0]][o[1]]=n),a([(n&&0!=n?\"\":\"no-\")+o.join(\"-\")]),Modernizr._trigger(e,n)}return Modernizr}var s=[],r=[],l={_version:\"3.6.0\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var A=this;setTimeout(function(){n(A[e])},0)},addTest:function(e,n,A){r.push({name:e,fn:n,options:A})},addAsyncTest:function(e){r.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=l,Modernizr=new Modernizr;var f,u=n.documentElement,c=\"svg\"===u.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;f=o(e,\"undefined\")||o(e.call,\"undefined\")?function(e,n){return n in e&&o(e.constructor.prototype[n],\"undefined\")}:function(n,A){return e.call(n,A)}}(),l._l={},l.on=function(e,n){this._l[e]||(this._l[e]=[]),this._l[e].push(n),Modernizr.hasOwnProperty(e)&&setTimeout(function(){Modernizr._trigger(e,Modernizr[e])},0)},l._trigger=function(e,n){if(this._l[e]){var A=this._l[e];setTimeout(function(){var e,o;for(e=0;e<A.length;e++)(o=A[e])(n)},0),delete this._l[e]}},Modernizr._q.push(function(){l.addTest=i}),Modernizr.addAsyncTest(function(){function e(e,n,A){function o(n){var o=n&&\"load\"===n.type?1==t.width:!1,a=\"webp\"===e;i(e,a&&o?new Boolean(o):o),A&&A(n)}var t=new Image;t.onerror=o,t.onload=o,t.src=n}var n=[{uri:\"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=\",name:\"webp\"},{uri:\"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\",name:\"webp.alpha\"},{uri:\"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA\",name:\"webp.animation\"},{uri:\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=\",name:\"webp.lossless\"}],A=n.shift();e(A.name,A.uri,function(A){if(A&&\"load\"===A.type)for(var o=0;o<n.length;o++)e(n[o].name,n[o].uri)})}),t(),a(s),delete l.addTest,delete l.addAsyncTest;for(var p=0;p<Modernizr._q.length;p++)Modernizr._q[p]();e.Modernizr=Modernizr}(window,document);"]}